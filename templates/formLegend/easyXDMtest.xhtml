{% extends "base.html" %}

{% block custom_head_js %}
<script type="text/javascript" src="{{ STATIC_URL }}javascripts/easyXDM/easyXDM.debug.js"></script>
{% endblock custom_head_js %}

{% block title %}easyXDM.Transport test{% endblock title %}

{% block content %}
<div class="row">
  <h2>easyXDM.Transport test</h2>
  <div id="easyXDMtest"></div>
</div>

{% endblock content %}

{% block custom_js %}
<script type="text/javascript">
var socket = new easyXDM.Socket({
    remote: "http://127.0.0.1:8000/forms/install/contact-form/",
    container: "easyXDMtest",
    props: {style: {width: "100%", height: "100%"} },
    onMessage: function(message, origin){
        alert("Received '" + message + "' from '" + origin + "'");
    },
    onReady: function() {
        socket.postMessage("Yay, it works!");
    }
});
</script>
{% endblock custom_js %}